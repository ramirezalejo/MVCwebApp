(function(a){Galleria.addTheme({name:"classicmod",author:"Jan-Philip Gehrcke, Galleria",css:"galleria.classicmod.css",defaults:{transition:"fade",thumbCrop:"height",imageCrop:false,_toggleInfo:true,slideshowInterval:1000},init:function(c){Galleria.requires(1.28,"This version of Classic theme requires Galleria 1.2.8 or later");var b=this;b.addElement("info-link","info-close");b.append({info:["info-link","info-close"]});b.addElement("navbar","navbarhelper","playbutton","fullscreenbutton");b.append({container:"navbar",navbar:"navbarhelper",navbarhelper:["playbutton","thumbnails-container","fullscreenbutton"]});b.prependChild("stage","info").appendChild("container","tooltip");b.classicplay=function(){b.setPlaytime(c.slideshowInterval);b.playToggle()};b.classicfullscreen=function(){b.toggleFullscreen(function(){b._carousel.set(b.getIndex())})};b.$("fullscreenbutton").click(function(g){g.preventDefault();b.classicfullscreen()});b.$("playbutton").click(function(g){g.preventDefault();b.classicplay()});b.bind("play",function(){this.$("playbutton").addClass("pause")});b.bind("pause",function(){this.$("playbutton").removeClass("pause")});b.bindTooltip({fullscreenbutton:function(){if(b.isFullscreen()){return"Exit fullscreen"}return"Enter fullscreen"},playbutton:function(){if(b.isPlaying()){return"Pause slideshow"}return"Start slideshow"}});var e=this.$("info-link,info-close,info-text"),f=Galleria.TOUCH,d=f?"touchstart":"click";this.$("loader,counter").show().css("opacity",0.4);if(!f){this.addIdleState(this.get("image-nav-left"),{left:-50});this.addIdleState(this.get("image-nav-right"),{right:-50});this.addIdleState(this.get("counter"),{opacity:0})}if(c._toggleInfo===true){e.bind(d,function(){e.toggle()})}else{e.show();this.$("info-link, info-close").hide()}this.bind("thumbnail",function(g){if(!f){a(g.thumbTarget).css("opacity",0.6).parent().hover(function(){a(this).not(".active").children().stop().fadeTo(100,1)},function(){a(this).not(".active").children().stop().fadeTo(400,0.6)});if(g.index===this.getIndex()){a(g.thumbTarget).css("opacity",1)}}else{a(g.thumbTarget).css("opacity",this.getIndex()?1:0.6)}});this.bind("loadstart",function(g){if(!g.cached){this.$("loader").show().fadeTo(200,0.4)}this.$("info").toggle(this.hasInfo());a(g.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",0.6)});this.bind("loadfinish",function(g){this.$("loader").fadeOut(200)})}})}(jQuery));